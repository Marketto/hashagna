<html>
    <head>
        <title>Hashagna Test page</title>
        <script src="/lib/hashagna.min.js"></script>
    </head>
    <body>
        <h1>Hashagna Test</h1>
        <input id="code" type="text">
        <button id="btn-post" onclick="test('post')">Test POST</button>
        <button id="btn-get" onclick="test('get')">Test GET</button>
        <input id="result" type="text" disabled>
        <script>
            function test(method) {
                Hashagna.HashagnaHttpClient[method]('/api/auto-redirect', { code: document.getElementById('code').value })
                    .then(({ hashParams }) => document.getElementById('result').value = hashParams.result)
                    .catch(() => document.getElementById('result').value = 'error');
            }
        </script>
    </body>
</html>